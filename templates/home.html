<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="{{url_for('static', filename='jquery.js') }}">\x3C/script>')</script>
</head>

<body>

<div class="row">
    <label id="status">status</label>
    <textarea name="codeArea" rows="8" cols="40">This is code.</textarea>
    <button type="button" id="sendCode">Send</button>
    <textarea name="debugUpdate" rows="8" cols="40">Return from the server.</textarea>
</div>

<script>

$SCRIPT_ROOT = {{ request.script_root|tojson|safe }};

$(function(){
    $('#sendCode').on('click', function(e){
        e.preventDefault();

        $.ajax({
            url: $SCRIPT_ROOT + '/takeCode', //this is the submit URL
            type: 'GET', //or POST
            //data: $('#contact-us-form').serialize(),
            data: { code: $('textarea#codeArea').val() },
            success: function(data){
                $('label#status').html('Code received.');
            },
            error: function(data){
                $('label#status').html('Opps, something is wrong with the server. Please try again.');
            }
        });
    });
});
</script>

</body>
</html>
